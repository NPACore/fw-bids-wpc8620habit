{
  "id": "ABCD_T1w_MPR_vNav_setter",
  "template": "anat_file",
  "where": {
    "container_type": "file",
    "parent_container_type": "acquisition",
    "file.type": {
      "$in": [
        "nifti",
        "NIfTI",
        "JSON"
      ]
    },
    "acquisition.label": {
      "$regex": "ABCD_T1w_MPR_vNav_setter"
    }
  },
  "initialize": {
    "Acq": "setter",
    "Suffix": "T1w",
    "Run": {
      "$run_counter": {
        "key": "anat.{file.info.BIDS.Acq}.{file.info.BIDS.Suffix}.{file.type}"
      }
    }
  },
  "custom_name": {
    "$join": [
      "anat/sub-{file.info.BIDS.Subject|pattern=(?P<value>^[^_]+)}",
      "ses-{file.info.BIDS.Session}",
      "acq-{Acq}",
      "run-{Run}",
      "{Suffix}"
    ]
  }
}